<!DOCTYPE html> 
<html> 
<head>
	<meta charset="utf-8"> 
	<title>Skarbiec Maniaków Gier</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="icon" href="ManiacyGier.jpg">
	<style>
		body {
			background-color: rgb(190, 14, 14);
		}
	</style>
	<script>
		function mainHall() {
			window.location.href = "The_Main_Hall.html";
		}

		function setMap() {
			for (let i=0; i<17; i++)
			{
				if(sessionStorage.getItem("FireMap" + i) == 1)
				{
					document.getElementById("MapImg"+i).src = "FireImg/Map"+i+".png";
				}
			}
		}

		window.onload = function() {
			sessionStorage.setItem("FireMap3", 1);
			sessionStorage.setItem("FireMap4", 1);
			setMap();
		};

		function clickArrow(arrow)
		{
			if (arrow == 0)
			{
				document.getElementById("MapDontWalk").textContent = "Nie tędy droga.";
				return;
			}
			window.location.href = "FireMap" + arrow + ".html";
		}

		let pillars = [0, 2, 2, 2, 2];
		let pillarNames = ["", "Green", "Lavender", "Red", "Violet"]

		function pillarControl(p, op) {
			if (pillars[p] - op > 4 || pillars[p] - op < 1)
			{
				return;
			}
			pillars[p] -= op;
			document.getElementById("PillarImg" + p).src = "FireImg/Pillar" + pillars[p] + pillarNames[p] + ".png";

			if (pillars[1] == 2 && pillars[2] == 1 && ((pillars[3] == 3 && pillars[4] == 3) || (pillars[3] == 4 && pillars[4] == 4)))
			{
				document.getElementById("SolutionDiv").style.display = "block";
			}
		}


	</script>
</head>
<body>
	<div class="middle-div">
		<img id="Logo" src="ManiacyGier.jpg" alt="upsi">
	</div>
	<div class="middle-div" id="MainDiv">
		<div id="ReturnButtonDiv">
			<button class="button-5" onclick="mainHall()">Powrót</button>
		</div>
		<h1 id="welcome-p" class="miejsce-F">Pieczara Ognia</h1>
		<div class="MapOuterDiv">
			<img id="MapTitle" src="FireImg/Orodruin.png">
			<div id="MapDiv">
				<img id="MapImg1" src="FireImg/MapUnknown.png">
				<img id="MapImg2" src="FireImg/MapUnknown.png">
				<img id="MapImg3" class="activeMapImage" src="FireImg/MapUnknown.png">
				<img id="MapImg4" src="FireImg/MapUnknown.png">
				<img id="MapImg5" src="FireImg/MapUnknown.png">
				<img id="MapImg6" src="FireImg/MapUnknown.png">
				<img id="MapImg7" src="FireImg/MapUnknown.png">
				<img id="MapImg8" src="FireImg/MapUnknown.png">
				<img id="MapImg9" src="FireImg/MapUnknown.png">
				<img id="MapImg10" src="FireImg/MapUnknown.png">
				<img id="MapImg11" src="FireImg/MapUnknown.png">
				<img id="MapImg12" src="FireImg/MapUnknown.png">
				<img id="MapImg13" src="FireImg/MapUnknown.png">
				<img id="MapImg14" src="FireImg/MapUnknown.png">
				<img id="MapImg15" src="FireImg/Map15.png">
				<img id="MapImg16" src="FireImg/MapUnknown.png">
			</div>
		</div>
		<br>
		<div class="arrow4div">
			<p></p> <button class="button-5" onclick="clickArrow(0)">&#8593</button> <p></p>
			<button class="button-5" onclick="clickArrow(0)"> &#8592 </button> <p></p> <button class="button-5" onclick="clickArrow(0)"> &#8594</button>
			<p></p> <button class="button-5" onclick="clickArrow(7)">&#8595</button> <p></p>
		</div>
		<h3 id="MapDontWalk" class="narrate"></h3>
		<h3 class="narrate">Błąkając się po ciemnych korytarzach, w końcu docierasz do nieco większej sali. Gdy wchodzisz do niej, widzisz przed sobą potężne wrota. Niestety, są zamkniętę.
			I nie wygląda na to, żebyś miała siłę je otworzyć siłą. Na szczęście dostrzegasz tuż obok 4 filary, a na nich 4 różne skały. W tej antycznej dotychczas jaskini, dziwi cię 
			również widok przycisków. Pewnie poprawna kombinacja prowadzi do otwarcia drzwi, tylko.. co to za kombinacja?
		</h3>
		<div class="button4div">
			<img id="PillarImg1" src="FireImg/Pillar2Green.png" alt="obrazek1">
			<img id="PillarImg2" src="FireImg/Pillar2Lavender.png" alt="obrazek2">
			<img id="PillarImg3" src="FireImg/Pillar2Red.png" alt="obrazek3">
			<img id="PillarImg4" src="FireImg/Pillar2Violet.png" alt="obrazek4">

			<button class="button-5" onclick="pillarControl(1, 1)">+</button>
			<button class="button-5" onclick="pillarControl(2, 1)">+</button>
			<button class="button-5" onclick="pillarControl(3, 1)">+</button>
			<button class="button-5" onclick="pillarControl(4, 1)">+</button>

			<button class="button-5" onclick="pillarControl(1, -1)">-</button>
			<button class="button-5" onclick="pillarControl(2, -1)">-</button>
			<button class="button-5" onclick="pillarControl(3, -1)">-</button>
			<button class="button-5" onclick="pillarControl(4, -1)">-</button>
		</div>
		<div id="SolutionDiv" style="display: none;">
			<h3 class="narrate">
				Czy to łud szczęścia, czy może czyste umiejętności - to bez znaczenia. Wrota zaczynają się otwierać!
			</h3>
			<button class="button-5" onclick="window.location.href='FireFinal.html'">Naprzód, zniszczyć Pierścień!</button>
		</div>
	</div>
</body>
</html>